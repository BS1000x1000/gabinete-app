<form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-8">
  <h1 class="text-xl font-semibold">
    {{ type === 'create' ? 'Create a new teacher' : 'Update the teacher' }}
  </h1>
  <span class="text-xs text-gray-400 font-medium">
    Authentication Information
  </span>
  <div class="flex justify-between flex-wrap gap-4">
    <app-input-field
      label="Username"
      controlName="username"
      [parentForm]="userForm"
    ></app-input-field>
    <app-input-field
      label="Email"
      controlName="email"
      type="email"
      [parentForm]="userForm"
    ></app-input-field>
    <app-input-field
      label="Password"
      controlName="password"
      type="password"
      [parentForm]="userForm"
    ></app-input-field>
  </div>
  <span class="text-xs text-gray-400 font-medium">
    Personal Information
  </span>
  <div class="flex justify-between flex-wrap gap-4">
    <app-input-field
      label="First Name"
      controlName="name"
      [parentForm]="userForm"
    ></app-input-field>
    <app-input-field
      label="Last Name"
      controlName="surname"
      [parentForm]="userForm"
    ></app-input-field>
    <app-input-field
      label="Phone"
      controlName="phone"
      [parentForm]="userForm"
    ></app-input-field>
    <app-input-field
      label="Address"
      controlName="address"
      [parentForm]="userForm"
    ></app-input-field>
    <app-input-field
      label="Blood Type"
      controlName="bloodType"
      [parentForm]="userForm"
    ></app-input-field>
    <app-input-field
      label="Birthday"
      controlName="birthday"
      type="date"
      [parentForm]="userForm"
    ></app-input-field>
    <input type="hidden" formControlName="id" />

    <div class="flex flex-col gap-2 w-full md:w-1/4">
      <label class="text-xs text-gray-500">Sex</label>
      <select
        formControlName="sex"
        class="ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full"
      >
        <option value="MALE">Male</option>
        <option value="FEMALE">Female</option>
      </select>
      <ng-container *ngIf="userForm.get('sex')?.invalid && userForm.get('sex')?.touched">
        <p class="text-xs text-red-400">Sex is required.</p>
      </ng-container>
    </div>

    <div class="flex flex-col gap-2 w-full md:w-1/4">
      <label class="text-xs text-gray-500">Subjects</label>
      <select
        formControlName="subjects"
        multiple
        class="ring-[1.5px] ring-gray-300 p-2 rounded-md text-sm w-full"
      >
        <option *ngFor="let subject of relatedData?.subjects" [value]="subject.id">
          {{ subject.name }}
        </option>
      </select>
      <ng-container *ngIf="userForm.get('subjects')?.invalid && userForm.get('subjects')?.touched">
        <p class="text-xs text-red-400">At least one subject is required.</p>
      </ng-container>
    </div>
  </div>

  <!-- <app-file-upload (imageUploaded)="onImageUploaded($event)"></app-file-upload> -->

  <span *ngIf="state().error" class="text-red-500">Something went wrong!</span>

  <button type="submit" class="bg-blue-400 text-white p-2 rounded-md" [disabled]="userForm.invalid">
    {{ type === 'create' ? 'Create' : 'Update' }}
  </button>
</form>